/* ========================
   THEME & RESET
   ======================== */
:root{
  --bg:#0b0f1a;
  --card:#101628;
  --border:rgba(255,255,255,.08);
  --fg:#f8fafc;
  --muted:#cbd5e1;
  --accent:#a78bfa;
  --accent-2:#60a5fa;
  --accent-3:#22d3ee;
}
*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0; color:var(--fg);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Helvetica Neue", sans-serif;
  background:var(--bg);
}

/* Improve keyboard a11y generically */
:where(a,button,input,select){ outline: none }
:where(a,button,input,select):focus-visible{
  box-shadow: 0 0 0 3px #86b7ff33, 0 0 0 1.5px #86b7ff inset;
  border-radius: 10px;
}

/* ========================
   BACKDROP
   ======================== */
.bg{
  position:fixed; inset:0; z-index:-1;
  background:
    radial-gradient(1200px 600px at 10% -10%, #14213d 0%, transparent 60%),
    radial-gradient(1000px 600px at 110% 10%, #4c1d95 0%, transparent 60%),
    radial-gradient(900px 480px at 40% 120%, #b91c1c 0%, transparent 60%),
    linear-gradient(180deg, var(--bg), var(--bg));
  filter:saturate(1.05);
}

/* ========================
   LAYOUT PRIMITIVES
   ======================== */
.wrap{ max-width:1200px; margin:22px auto 96px; padding:0 16px }
.card{
  background:rgba(16,22,40,.82);
  border:1px solid var(--border);
  border-radius:22px;
  padding:18px;
  box-shadow:0 24px 60px rgba(0,0,0,.35);
}
h1,h2{ margin:.2em 0 }
.muted{ color:var(--muted) }

/* ========================
   TOPBAR
   ======================== */
.top{
  position:sticky; top:0; z-index:50;
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  padding:14px 16px;
  background:rgba(11,15,26,.55);
  backdrop-filter:blur(10px);
  border-bottom:1px solid var(--border);
}
.brand{ display:flex; gap:10px; align-items:center; font-weight:800 }
.logo{
  width:28px; height:28px; display:grid; place-items:center;
  border-radius:8px; background:#0f172a; border:1px solid #1f2438;
}
.nav{ display:flex; gap:18px }
.nav a{
  color:#e5e7eb; text-decoration:none; font-weight:700; opacity:.8;
  padding:6px 2px; border-bottom:2px solid transparent; transition:opacity .15s,border-color .15s;
}
.nav a:hover,.nav a.active{ opacity:1; border-color:var(--accent) }
.nav a:focus-visible{ outline:2px solid var(--accent); outline-offset:4px; border-radius:6px }

/* ========================
   SECTIONS / SLIDES
   ======================== */
section{ display:none; animation:fade .25s ease-out }
section.active{ display:block }
@keyframes fade{ from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:none} }

.grid{ display:grid; gap:16px }
@media (min-width:900px){ .grid.cols-2{ grid-template-columns:1.1fr 1fr } }
/* ==== Animated SVG for task-1 ==== */
.sched-anim {
  width: min(100%, 360px);
  height: auto;
  opacity: 0.9;
}

.sched-anim .pulse {
  animation: pulseCore 2s ease-in-out infinite;
}

@keyframes pulseCore {
  0%,100% { transform: scale(1); opacity: 0.9; }
  50% { transform: scale(1.25); opacity: 1; }
}

.orbit {
  transform-origin: 200px 200px;
}

.orbit1 { animation: spin1 6s linear infinite; }
.orbit2 { animation: spin2 8s linear infinite reverse; }
.orbit3 { animation: spin3 10s linear infinite; }
.orbit4 { animation: spin4 12s linear infinite reverse; }

@keyframes spin1 { to { transform: rotate(360deg); } }
@keyframes spin2 { to { transform: rotate(360deg); } }
@keyframes spin3 { to { transform: rotate(360deg); } }
@keyframes spin4 { to { transform: rotate(360deg); } }

@media (max-width: 900px) {
  .sched-anim { width: 260px; opacity: 0.8; margin: 0 auto; }
}

/* ---------- HERO ---------- */
.hero{
  position:relative;
  display:grid; place-items:center; text-align:center;
  padding:32px 18px;
  min-height: clamp(260px, 38vh, 420px);
  overflow:hidden;
}
.huge{ font-size: clamp(40px, 9vw, 96px); line-height:1.05; margin:.2em 0 }

/* hero svg layering */
.card.hero > *{ position:relative; z-index:2 }
.hero-art {
  position: absolute;
  inset: 0;
  width: 100%;
  max-height: 300px;
  pointer-events: none;
  opacity: 0.25;              /* was 0.35 – softer */
  transform: scale(0.8);      /* shrink the whole SVG slightly */
  transform-origin: center;
}

/* hero blobs / ring / cpu / orbits */
.blob{ transform-origin:center; animation:float 10s ease-in-out infinite }
.blob.b1{ animation-duration:12s }
.blob.b2{ animation-duration:14s }
.blob.b3{ animation-duration:16s }
@keyframes float{ 0%{transform:translate(0,0) scale(1)} 50%{transform:translate(0,-18px) scale(1.05)} 100%{transform:translate(0,0) scale(1)} }
.ring{ stroke-linecap:round; opacity:.9; animation:dash 8s linear infinite }
@keyframes dash{ to{ stroke-dashoffset:-500 } }
.cpu circle{ transform-origin:center; animation:pulse 1.8s ease-in-out infinite }
@keyframes pulse{ 0%,100%{transform:scale(1);opacity:.85} 50%{transform:scale(1.25);opacity:1} }
.orbit{ transform-origin:600px 300px }
.orbit-a{ animation:spin 9s linear infinite }
.orbit-b{ animation:spin 12s linear infinite reverse }
.orbit-c{ animation:spin 15s linear infinite }
@keyframes spin{ to{ transform:rotate(360deg) } }
.orbit-a .node{ transform:translate(0,-185px) }
.orbit-b .node{ transform:translate(130px,0) }
.orbit-c .node{ transform:translate(-110px,110px) }
.sheen{ mix-blend-mode:screen; animation:sweep 6s ease-in-out infinite }
@keyframes sweep{ 0%{transform:translateX(-40%);opacity:0} 10%{opacity:.06} 40%,100%{transform:translateX(140%);opacity:0} }

/* motion preference */
@media (prefers-reduced-motion: reduce){
  .blob,.ring,.cpu circle,.orbit-a,.orbit-b,.orbit-c,.sheen{ animation:none !important }
}


/* ========================
   FORMS / BUTTONS
   ======================== */
.row{ display:flex; gap:10px; flex-wrap:wrap; align-items:center }
.btn{
  background:linear-gradient(180deg,#6d28d9,#5b21b6); color:#fff; font-weight:800;
  border:none; border-radius:12px; padding:10px 14px; cursor:pointer;
}
.btn:hover{ filter:brightness(1.05) }
.btn.ghost{ background:#0b1220; border:1px solid #1f2937; color:#e5e7eb }
.btn.small{ padding:6px 10px; border-radius:10px; font-size:13px }

input,select{
  background:#0b1220; border:1px solid #1f2937; color:#e5e7eb;
  padding:10px 12px; border-radius:12px; outline:none;
}
input:focus,select:focus{
  border-color:var(--accent-2);
  box-shadow:0 0 0 2px rgba(59,130,246,.15)
}

/* ========================
   TABLE-LIKE LIST (sim)
   ======================== */
.table{ width:100%; border:1px solid #1f2937; border-radius:14px; overflow:hidden }
.table .trow{
  display:grid; grid-template-columns:1.2fr .8fr .8fr .8fr .7fr;
  gap:8px; padding:10px 12px;
}
.table .trow.head{ background:#0a101d; font-weight:800 }
.table .trow:nth-child(2n){ background:#0d1425 } /* start zebra from row 2 (header is row 1) */
.table .trow b{ font-weight:800 }

/* ========================
   GENERIC GANTT (used by earlier slides if any)
   ======================== */
.result{ margin-top:12px }
.gantt{
  display:flex; gap:2px; overflow-x:auto;
  border:1px dashed #223; padding:6px; border-radius:10px; background:#0d1426;
}
.slice{
  height:38px; display:flex; align-items:center; justify-content:center; white-space:nowrap;
  font-weight:800; padding:0 6px; border-radius:8px; border:1px solid rgba(255,255,255,.06);
  background:linear-gradient(180deg, rgba(96,165,250,.9), rgba(59,130,246,.9));
}
.tick{ font-size:12px; color:#aab2c5; margin-top:6px }
.stats{ margin-top:8px; color:var(--muted); display:flex; gap:16px; flex-wrap:wrap }
.pill{ padding:6px 10px; border-radius:999px; background:#0f172a; border:1px solid #1f2438 }

/* ========================
   FOOTER CONTROLS
   ======================== */
.foot{
  position:fixed; left:0; right:0; bottom:0;
  display:flex; align-items:center; gap:16px; justify-content:space-between;
  padding:12px 16px; background:rgba(11,15,26,.7);
  border-top:1px solid var(--border); backdrop-filter:blur(8px);
}
.progress{ display:flex; align-items:center; gap:10px; color:var(--muted) }
.bar{
  width:220px; max-width:40vw; height:8px;
  background:#0f172a; border:1px solid #1f2438; border-radius:999px; overflow:hidden;
}
.bar-fill{ height:100%; width:0%; background:linear-gradient(90deg,var(--accent-3),var(--accent-2)) }

/* ========================
   MEDIA-HERO (if used)
   ======================== */
.media-hero{ position:relative; padding:24px 18px 28px }
.over-title{
  position:absolute; left:50%; top:18px; transform:translateX(-50%);
  margin:0; padding:10px 18px; border-radius:16px;
  background: rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.12);
  backdrop-filter: blur(6px);
  font-size: clamp(18px, 2.8vw, 28px); font-weight:800;
}
.media-xl{ display:grid; place-items:center; margin:48px auto 0; gap:10px; width:100% }
.media-xl img{
  width:min(100%, 980px); height:auto; object-fit:contain;
  border-radius:20px; box-shadow:0 18px 60px rgba(0,0,0,.35);
  border:1px solid rgba(255,255,255,.08);
}
.media-xl figcaption{ color:#cbd5e1; font-size:14px; opacity:.9; text-align:center }

/* ========================
   Q/A + RIGHT IMAGE
   ======================== */
.qa-slide{
  position:relative;
  display:grid; gap:18px;
  grid-template-columns:1.1fr 1fr;
  align-items:center; overflow:hidden;
}
@media (max-width:920px){ .qa-slide{ grid-template-columns:1fr } }

/* left block */
.qa{ position:relative; padding:8px 6px 8px 2px }
.qa-title{
  font-size:clamp(22px, 3vw, 34px);
  font-weight:900; margin:0 0 8px; letter-spacing:.2px;
  text-shadow:0 2px 18px rgba(0,0,0,.35);
  display:flex; align-items:center; gap:10px;
}
.qa-title .spark{ position:relative; display:inline-block; width:120px; height:0 }
.spark-svg{ position:absolute; left:-6px; top:-6px; width:140px; height:28px; opacity:.8 }
.qa-body{ font-size:16px; line-height:1.55 }
.qa-body .small{ font-size:13px }
.bullets{ margin:10px 0 0; padding-left:18px }
.bullets li{ margin:4px 0 }

/* right block (image) — single source of truth */
.media-right{ position:relative; display:grid; place-items:center }
.media-right img{
  width:min(100%, 880px); height:auto; object-fit:contain;
  border-radius:18px; border:1px solid rgba(255,255,255,.08);
  box-shadow:0 18px 60px rgba(0,0,0,.35);
  transition:transform .35s ease, box-shadow .35s ease, filter .35s ease;
}
.media-right img:hover{ transform:scale(1.02); box-shadow:0 24px 70px rgba(0,0,0,.45); filter:saturate(1.05) }
/* optional stacked second image */
.media-right .stacked{
  position:absolute; right:18px; bottom:18px; width:36%;
  opacity:.95; backdrop-filter:blur(2px);
  border-radius:14px; box-shadow:0 14px 40px rgba(0,0,0,.4);
  animation:float 11s ease-in-out infinite;
}
.media-right.lg img{ border-top-right-radius:42px }
.media-right.xl img{ width:min(100%, 980px); border-top-right-radius:42px }
.media-right figcaption{ display:none }

/* subtle shimmer on qa cards */
.qa-slide::after{
  content:""; position:absolute; inset:-1px; border-radius:22px; pointer-events:none;
  background:
    radial-gradient(1200px 400px at -10% -20%, rgba(34,211,238,.10), transparent 60%),
    radial-gradient(1200px 400px at 120% 120%, rgba(167,139,250,.10), transparent 60%);
  mix-blend-mode:screen; opacity:.7;
}

/* ===== Content slide layout (text left / image right) ===== */
.content-slide{
  position:relative;
  display:grid; gap:20px;
  grid-template-columns: 1.05fr 1fr;
  align-items:center; overflow:hidden;
}
@media (max-width: 920px){
  .content-slide{ grid-template-columns:1fr }
}
.content-slide .left{ display:grid; gap:14px; align-content:start }
.content-slide .left h2{
  font-size: clamp(26px,3.5vw,42px);
  text-shadow:0 3px 10px rgba(0,0,0,.4);
}
.title-chip{
  display:inline-block; padding:14px 18px; border-radius:18px;
  font-weight:900; font-size:clamp(18px,2.4vw,28px);
  background:linear-gradient(90deg,rgba(96,165,250,.25),rgba(167,139,250,.25));
  border:1px solid rgba(255,255,255,.15);
  backdrop-filter: blur(6px); box-shadow:0 6px 24px rgba(0,0,0,.25);
}
.title-chip small{ font-weight:800; opacity:.9 }
.title-chip .aster{ margin-left:6px; color:#fff; text-shadow:0 0 14px #fff }
.note{
  padding:14px 16px; border-radius:16px;
  background:rgba(15,17,32,.85);
  border:1px solid rgba(255,255,255,.08);
}
.note.gradient{
  height:180px;
  background:
    radial-gradient(240px 140px at 30% 30%, rgba(96,165,250,.35), transparent 60%),
    radial-gradient(240px 140px at 70% 70%, rgba(239,68,68,.35), transparent 60%),
    rgba(15,17,32,.85);
}

/* ===== Task layout (Q/A left + Gantt right) ===== */
.task{ position:relative }
.task-grid{
  display:grid; gap:20px;
  grid-template-columns:1.05fr 1fr;
  align-items:start;
}
@media (max-width:900px){ .task-grid{ grid-template-columns:1fr } }

.task-left{ display:grid; gap:14px }
.task-right{ min-height:260px; display:grid; align-content:start; gap:10px }

/* algorithm badges */
.algo{ font-weight:800 }
.algo[data-algo="fcfs"]{ background:linear-gradient(180deg,#60a5fa,#3b82f6) }
.algo[data-algo="sjf"] { background:linear-gradient(180deg,#34d399,#10b981) }
.algo[data-algo="rr"]  { background:linear-gradient(180deg,#f472b6,#db2777) }
.algo[data-algo="prio"]{ background:linear-gradient(180deg,#f59e0b,#d97706) }

/* process small table */
.proc-table .trow{ grid-template-columns:.8fr .8fr .8fr .8fr }
.proc-table .trow.head{ text-transform:uppercase; letter-spacing:.4px }

/* gantt stage box */
.gantt-stage{
  background:rgba(12,16,30,.6);
  border:1px dashed rgba(255,255,255,.1);
  border-radius:16px; padding:12px;
}
.stage-hint{ padding:10px 12px; border-radius:12px; background:rgba(255,255,255,.04); margin-bottom:8px }

/* optional demo gradients for first few slices */
.gantt .slice:nth-child(1){ background:linear-gradient(180deg,rgba(59,130,246,.9),rgba(37,99,235,.9)) }
.gantt .slice:nth-child(2){ background:linear-gradient(180deg,rgba(52,211,153,.9),rgba(16,185,129,.9)) }
.gantt .slice:nth-child(3){ background:linear-gradient(180deg,rgba(244,114,182,.9),rgba(219,39,119,.9)) }
.gantt .slice:nth-child(4){ background:linear-gradient(180deg,rgba(245,158,11,.9),rgba(217,119,6,.9)) }

/* ===== match “2B” style for the simulator ===== */
#sim .sim-head h2{ margin:6px 0 6px }
#sim .segmented{ display:inline-flex; border:1px solid #2b4c82; border-radius:12px; overflow:hidden }
#sim .segBtn{ border:0; background:linear-gradient(180deg,#0f2957,#0a1a35); color:#cfe3ff; padding:8px 14px; font-weight:700; cursor:pointer }
#sim .segBtn + .segBtn{ border-left:1px solid #2b4c82 }
#sim .segBtn:hover{ background:#123167 }
#sim .segBtn.active{ background:#1a2f59; color:#fff; box-shadow:inset 0 0 0 1px #2b5293 }

#sim .sim-panel{ margin-top:12px }
#sim .sim-controls{ display:flex; gap:14px; justify-content:space-between; align-items:flex-start; margin-bottom:10px }
#sim .sim-grid{ display:grid; grid-template-columns: 1.05fr 1.3fr; gap:14px }
@media (max-width:1000px){ #sim .sim-grid{ grid-template-columns: 1fr } }

#sim .sim-left .table{ max-height:360px; overflow:auto }
#sim .table .trow{ grid-template-columns: .8fr .7fr .7fr .8fr .5fr }
#sim .table .trow .del{ text-align:center }
#sim .table .trow .del button{
  background:#0b1730; border:1px solid #294a84; color:#e5e7eb; border-radius:10px; padding:4px 8px; cursor:pointer
}
#sim .table .trow .del button:focus-visible{
  box-shadow:0 0 0 3px #17356666, 0 0 0 1.5px #3a7aff inset
}

#sim .legend{ margin-top:8px; color:#9fb1d6 }
#sim .dot{ width:14px; height:14px; border-radius:4px; border:1px solid #0006; display:inline-block; margin-right:6px }

#sim .result{ background:linear-gradient(180deg,#0b162c,#0a1121); border:1px solid #213a66 }
#sim .sim-title{ display:flex; align-items:center; justify-content:space-between; gap:10px }
#sim .algo-pill{ padding:6px 10px; border-radius:999px; background:#0b1730; border:1px solid #294a84; color:#cfe3ff; font-size:12px; font-weight:800 }

 #sim .gantt{
   display:flex; gap:2px;
   border:0; padding:0;
   background:transparent;
   max-width: 200px;
 }
#sim .slice{
  height:38px; display:flex; align-items:center; justify-content:center; white-space:nowrap;
  font-weight:800; padding:0 6px; border-radius:8px; border:1px solid rgba(255,255,255,.08);
  background:linear-gradient(180deg, rgba(96,165,250,.9), rgba(59,130,246,.9));
  min-width:40px; transition: transform .15s ease;
}
#sim .slice:hover{ transform:translateY(-1px) }
#sim .slice.idle{ background:linear-gradient(180deg, rgba(96,165,250,.35), rgba(59,130,246,.35)) }
#sim .slice.ctx { background:linear-gradient(180deg, rgba(167,139,250,.35), rgba(99,102,241,.35)) }

#sim .tick{ font-size:12px; color:#aab2c5; margin-top:6px; user-select:text }
#sim .stats{ margin-top:8px; color:#cbd5e1; display:flex; gap:16px; flex-wrap:wrap }
#sim .pill{ padding:6px 10px; border-radius:999px; background:#0f172a; border:1px solid #1f2438 }
